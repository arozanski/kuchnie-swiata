<ion-header>
  <ion-navbar hideBackButton="true">
    <ion-title text-center>
      <ion-icon name="settings" class="menu-icon"></ion-icon>
      {{ configuration }}
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-slides #userProfileSlider>
    <ion-slide [class.focused-with-keyboard-on]="isKeyboardVisible()">
        <ion-row justify-content-center align-items-center text-center>
          <p>{{ confInfoMessage1 }}</p>
          <p>{{ confInfoMessage2 }}</p>
          <form [formGroup]="userProfileForm" #f="ngForm">
            <ion-item>
              <ion-label stacked>{{ userName }}</ion-label>
              <ion-input type="userName" formControlName="userName"></ion-input>
            </ion-item>
            <ion-item no-lines *ngIf="!userProfileForm.controls.userName.valid  && userProfileForm.controls.userName.dirty">
              <p class="error">{{ userNameInvalid }}</p>
            </ion-item>
          </form>
          <button ion-button full color="secondary"
            [disabled]="!userProfileForm.valid"
            (window:keydown)="onKeydown($event)"
            (click)="goToSlide(2)">
            {{ next }}
          </button>
        </ion-row>
    </ion-slide>

    <ion-slide>
      <ion-row justify-content-center align-items-center text-center>
        <h2>Hey <span ion-text color="secondary">{{ userName }}!</span></h2>
        <p>{{ confInfoMessage3 }}</p>
        <p>{{ confInfoMessage4 }}</p>
        <button ion-button icon-only large color="secondary" round
          (click)="takePhoto()">
          <ion-icon name="camera"></ion-icon>
        </button>
      </ion-row>
      <ion-row>
        <ion-img class="avatar-preview" width="100" height="100" src="{{ avatarURL }}"></ion-img>
      </ion-row>
      <ion-row>
        <button ion-button full color="secondary"
          (click)="goToSlide(3)">
            {{ finish }}
        </button>
      </ion-row>
    </ion-slide>

    <ion-slide>
      <ion-content>
        finish
      </ion-content>
      <ion-footer no-shadow>
        <ion-toolbar position="bottom">
          <button ion-button round color="secondary"
            (click)="finishConfiguration()">
              {{ close }}
          </button>
        </ion-toolbar>
      </ion-footer>
    </ion-slide>

  </ion-slides>
</ion-content>
